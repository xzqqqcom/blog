!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("APlayer",[],t):"object"==typeof exports?exports.APlayer=t():n.APlayer=t()}(window,function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:r})},t.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="/",t(t.s=41)}([function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=/mobile/i.test(window.navigator.userAgent),r={secondToTime:function(n){var t=Math.floor(n/3600),i=Math.floor((n-3600*t)/60),r=Math.floor(n-3600*t-60*i);return(t>0?[t,i,r]:[i,r]).map(function(n){return n<10?"0"+n:""+n}).join(":")},getElementViewLeft:function(n){var i=n.offsetLeft,t=n.offsetParent,r=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==t&&t!==n;)i+=t.offsetLeft,t=t.offsetParent;else for(;null!==t;)i+=t.offsetLeft,t=t.offsetParent;return i-r},getElementViewTop:function(n,t){for(var u,r=n.offsetTop,i=n.offsetParent;null!==i;)r+=i.offsetTop,i=i.offsetParent;return u=document.body.scrollTop+document.documentElement.scrollTop,t?r:r-u},isMobile:i,storage:{set:function(n,t){localStorage.setItem(n,t)},get:function(n){return localStorage.getItem(n)}},nameMap:{dragStart:i?"touchstart":"mousedown",dragMove:i?"touchmove":"mousemove",dragEnd:i?"touchend":"mouseup"},randomOrder:function(n){return function(n){for(var i,r,t=n.length-1;t>=0;t--)i=Math.floor(Math.random()*(t+1)),r=n[i],n[i]=n[t],n[t]=r;return n}([].concat(function(n){if(Array.isArray(n)){for(var t=0,i=Array(n.length);t<n.length;t++)i[t]=n[t];return i}return Array.from(n)}(Array(n))).map(function(n,t){return t}))}};t.default=r},function(n,t,i){var r=i(2);n.exports=function(n){"use strict";n=n||{};var t="",u=r.$each,f=n.audio,i=(n.$value,n.$index,r.$escape),e=n.theme,o=n.index;return u(f,function(n,r){t+='\n<li>\n    <span class="aplayer-list-cur" style="background-color: ';t+=i(n.theme||e);t+=';"><\/span>\n    <span class="aplayer-list-index">';t+=i(r+o);t+='<\/span>\n    <span class="aplayer-list-title">';t+=i(n.name);t+='<\/span>\n    <span class="aplayer-list-author">';t+=i(n.artist);t+="<\/span>\n<\/li>\n"}),t}},function(n,t,i){"use strict";n.exports=i(15)},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var u;Object.defineProperty(t,"__esModule",{value:!0});var f=r(i(33)),e=r(i(32)),o=r(i(31)),s=r(i(30)),h=r(i(29)),c=r(i(28)),l=r(i(27)),a=r(i(26)),v=r(i(25)),y=r(i(24)),p=r(i(23)),w=r(i(22)),b=r(i(21)),k=r(i(20)),d=r(i(19));u={play:f.default,pause:e.default,volumeUp:o.default,volumeDown:s.default,volumeOff:h.default,orderRandom:c.default,orderList:l.default,menu:a.default,loopAll:v.default,loopOne:y.default,loopNone:p.default,loading:w.default,right:b.default,skip:k.default,lrc:d.default};t.default=u},function(n){"use strict";var t,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};t=function(){return this}();try{t=t||Function("return this")()||eval("this")}catch(n){"object"===("undefined"==typeof window?"undefined":i(window))&&(t=window)}n.exports=t},function(n,t,i){"use strict";var r,u,f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};void 0===(u="function"==typeof(r=function(){if("object"===("undefined"==typeof window?"undefined":f(window))&&void 0!==document.querySelectorAll&&void 0!==window.pageYOffset&&void 0!==history.pushState){var n=function(n,t,i,r){return i>r?t:n+(t-n)*((u=i/r)<.5?4*u*u*u:(u-1)*(2*u-2)*(2*u-2)+1);var u},t=function(t,i,r,u){var f,e,o,s;i=i||500;f=(u=u||window).scrollTop||window.pageYOffset;e="number"==typeof t?parseInt(t):function(n,t){return"HTML"===n.nodeName?-t:n.getBoundingClientRect().top+t}(t,f);o=Date.now();s=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(n){window.setTimeout(n,15)};!function h(){var c=Date.now()-o;u!==window?u.scrollTop=n(f,e,c,i):window.scroll(0,n(f,e,c,i));c>i?"function"==typeof r&&r(t):s(h)}()},i=function(n){if(!n.defaultPrevented){n.preventDefault();location.hash!==this.hash&&window.history.pushState(null,null,this.hash);var i=document.getElementById(this.hash.substring(1));if(!i)return;t(i,500,function(n){location.replace("#"+n.id)})}};return document.addEventListener("DOMContentLoaded",function(){for(var n,t=document.querySelectorAll('a[href^="#"]:not([href="#"])'),r=t.length;n=t[--r];)n.addEventListener("click",i,!1)}),t}})?r.call(t,i,t,n):r)||(n.exports=u)},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),o=u(i(1)),r=u(i(0)),s=u(i(5));f=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.player=t;this.index=0;this.audios=this.player.options.audio;this.bindEvents()}return e(n,[{key:"bindEvents",value:function(){var n=this;this.player.template.list.addEventListener("click",function(t){var r=void 0,i;r="LI"===t.target.tagName.toUpperCase()?t.target:t.target.parentElement;i=parseInt(r.getElementsByClassName("aplayer-list-index")[0].innerHTML)-1;i!==n.index?(n.switch(i),n.player.play()):n.player.toggle()})}},{key:"show",value:function(){this.player.events.trigger("listshow");this.player.template.list.classList.remove("aplayer-list-hide");this.player.template.listOl.scrollTop=33*this.index}},{key:"hide",value:function(){this.player.events.trigger("listhide");this.player.template.list.classList.add("aplayer-list-hide")}},{key:"toggle",value:function(){this.player.template.list.classList.contains("aplayer-list-hide")?this.show():this.hide()}},{key:"add",value:function(n){this.player.events.trigger("listadd",{audios:n});"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]);n.map(function(n){return n.name=n.name||n.title||"Audio name",n.artist=n.artist||n.author||"Audio artist",n.cover=n.cover||n.pic,n.type=n.type||"normal",n});var t=!(this.audios.length>1),i=0===this.audios.length;this.player.template.listOl.innerHTML+=o.default({theme:this.player.options.theme,audio:n,index:this.audios.length+1});this.audios=this.audios.concat(n);t&&this.audios.length>1&&this.player.container.classList.add("aplayer-withlist");this.player.randomOrder=r.default.randomOrder(this.audios.length);this.player.template.listCurs=this.player.container.querySelectorAll(".aplayer-list-cur");this.player.template.listCurs[this.audios.length-1].style.backgroundColor=n.theme||this.player.options.theme;i&&("random"===this.player.options.order?this.switch(this.player.randomOrder[0]):this.switch(0))}},{key:"remove",value:function(n){var i,t;if(this.player.events.trigger("listremove",{index:n}),this.audios[n])if(this.audios.length>1){for(i=this.player.container.querySelectorAll(".aplayer-list li"),i[n].remove(),this.audios.splice(n,1),this.player.lrc&&this.player.lrc.remove(n),n===this.index&&(this.audios[n]?this.switch(n):this.switch(n-1)),this.index>n&&this.index--,t=n;t<i.length;t++)i[t].getElementsByClassName("aplayer-list-index")[0].textContent=t;1===this.audios.length&&this.player.container.classList.remove("aplayer-withlist");this.player.template.listCurs=this.player.container.querySelectorAll(".aplayer-list-cur")}else this.clear()}},{key:"switch",value:function(n){var t,i;(this.player.events.trigger("listswitch",{index:n}),void 0!==n&&this.audios[n])&&(this.index=n,t=this.audios[this.index],this.player.template.pic.style.backgroundImage=t.cover?"url('"+t.cover+"')":"",this.player.theme(this.audios[this.index].theme||this.player.options.theme,this.index,!1),this.player.template.title.innerHTML=t.name,this.player.template.author.innerHTML=t.artist?" - "+t.artist:"",i=this.player.container.getElementsByClassName("aplayer-list-light")[0],i&&i.classList.remove("aplayer-list-light"),this.player.container.querySelectorAll(".aplayer-list li")[this.index].classList.add("aplayer-list-light"),s.default(33*this.index,500,null,this.player.template.listOl),this.player.setAudio(t),this.player.lrc&&this.player.lrc.switch(this.index),this.player.lrc&&this.player.lrc.update(0),1!==this.player.duration&&(this.player.template.dtime.innerHTML=r.default.secondToTime(this.player.duration)))}},{key:"clear",value:function(){this.player.events.trigger("listclear");this.index=0;this.player.container.classList.remove("aplayer-withlist");this.player.pause();this.audios=[];this.player.lrc&&this.player.lrc.clear();this.player.audio.src="";this.player.template.listOl.innerHTML="";this.player.template.pic.style.backgroundImage="";this.player.theme(this.player.options.theme,this.index,!1);this.player.template.title.innerHTML="No audio";this.player.template.author.innerHTML="";this.player.bar.set("loaded",0,"width");this.player.template.dtime.innerHTML=r.default.secondToTime(0)}}]),n}();t.default=f},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),r=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.events={};this.audioEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"];this.playerEvents=["destroy","listshow","listhide","listadd","listremove","listswitch","listclear","noticeshow","noticehide","lrcshow","lrchide"]}return i(n,[{key:"on",value:function(n,t){this.type(n)&&"function"==typeof t&&(this.events[n]||(this.events[n]=[]),this.events[n].push(t))}},{key:"trigger",value:function(n,t){if(this.events[n]&&this.events[n].length)for(var i=0;i<this.events[n].length;i++)this.events[n][i](t)}},{key:"type",value:function(n){return-1!==this.playerEvents.indexOf(n)?"player":-1!==this.audioEvents.indexOf(n)?"audio":(console.error("Unknown event name: "+n),null)}}]),n}();t.default=r},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),r=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.player=t;window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)};this.types=["loading"];this.init()}return i(n,[{key:"init",value:function(){var n=this;this.types.forEach(function(t){n["init"+t+"Checker"]()})}},{key:"initloadingChecker",value:function(){var n=this,r=0,t=0,i=!1;this.loadingChecker=setInterval(function(){n.enableloadingChecker&&(t=n.player.audio.currentTime,i||t!==r||n.player.audio.paused||(n.player.container.classList.add("aplayer-loading"),i=!0),i&&t>r&&!n.player.audio.paused&&(n.player.container.classList.remove("aplayer-loading"),i=!1),r=t)},100)}},{key:"enable",value:function(n){this["enable"+n+"Checker"]=!0;"fps"===n&&this.initfpsChecker()}},{key:"disable",value:function(n){this["enable"+n+"Checker"]=!1}},{key:"destroy",value:function(){var n=this;this.types.forEach(function(t){n["enable"+t+"Checker"]=!1;n[t+"Checker"]&&clearInterval(n[t+"Checker"])})}}]),n}();t.default=r},function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}var e;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),r=f(i(0)),u=f(i(3));e=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.player=t;this.initPlayButton();this.initPlayBar();this.initOrderButton();this.initLoopButton();this.initMenuButton();r.default.isMobile||this.initVolumeButton();this.initMiniSwitcher();this.initSkipButton();this.initLrcButton()}return o(n,[{key:"initPlayButton",value:function(){var n=this;this.player.template.pic.addEventListener("click",function(){n.player.toggle()})}},{key:"initPlayBar",value:function(){var n=this,t=function(t){var i=((t.clientX||t.changedTouches[0].clientX)-r.default.getElementViewLeft(n.player.template.barWrap))/n.player.template.barWrap.clientWidth;i=Math.max(i,0);i=Math.min(i,1);n.player.bar.set("played",i,"width");n.player.lrc&&n.player.lrc.update(i*n.player.duration);n.player.template.ptime.innerHTML=r.default.secondToTime(i*n.player.duration)},i=function i(u){document.removeEventListener(r.default.nameMap.dragEnd,i);document.removeEventListener(r.default.nameMap.dragMove,t);var f=((u.clientX||u.changedTouches[0].clientX)-r.default.getElementViewLeft(n.player.template.barWrap))/n.player.template.barWrap.clientWidth;f=Math.max(f,0);f=Math.min(f,1);n.player.bar.set("played",f,"width");n.player.seek(n.player.bar.get("played","width")*n.player.duration);n.player.disableTimeupdate=!1};this.player.template.barWrap.addEventListener(r.default.nameMap.dragStart,function(){n.player.disableTimeupdate=!0;document.addEventListener(r.default.nameMap.dragMove,t);document.addEventListener(r.default.nameMap.dragEnd,i)})}},{key:"initVolumeButton",value:function(){var n=this,t,i;this.player.template.volumeButton.addEventListener("click",function(){n.player.audio.muted?(n.player.audio.muted=!1,n.player.switchVolumeIcon(),n.player.bar.set("volume",n.player.volume(),"height")):(n.player.audio.muted=!0,n.player.switchVolumeIcon(),n.player.bar.set("volume",0,"height"))});t=function(t){var i=1-((t.clientY||t.changedTouches[0].clientY)-r.default.getElementViewTop(n.player.template.volumeBar,n.player.options.fixed))/n.player.template.volumeBar.clientHeight;i=Math.max(i,0);i=Math.min(i,1);n.player.volume(i)};i=function i(u){n.player.template.volumeBarWrap.classList.remove("aplayer-volume-bar-wrap-active");document.removeEventListener(r.default.nameMap.dragEnd,i);document.removeEventListener(r.default.nameMap.dragMove,t);var f=1-((u.clientY||u.changedTouches[0].clientY)-r.default.getElementViewTop(n.player.template.volumeBar,n.player.options.fixed))/n.player.template.volumeBar.clientHeight;f=Math.max(f,0);f=Math.min(f,1);n.player.volume(f)};this.player.template.volumeBarWrap.addEventListener(r.default.nameMap.dragStart,function(){n.player.template.volumeBarWrap.classList.add("aplayer-volume-bar-wrap-active");document.addEventListener(r.default.nameMap.dragMove,t);document.addEventListener(r.default.nameMap.dragEnd,i)})}},{key:"initOrderButton",value:function(){var n=this;this.player.template.order.addEventListener("click",function(){"list"===n.player.options.order?(n.player.options.order="random",n.player.template.order.innerHTML=u.default.orderRandom):"random"===n.player.options.order&&(n.player.options.order="list",n.player.template.order.innerHTML=u.default.orderList)})}},{key:"initLoopButton",value:function(){var n=this;this.player.template.loop.addEventListener("click",function(){n.player.list.audios.length>1?"one"===n.player.options.loop?(n.player.options.loop="none",n.player.template.loop.innerHTML=u.default.loopNone):"none"===n.player.options.loop?(n.player.options.loop="all",n.player.template.loop.innerHTML=u.default.loopAll):"all"===n.player.options.loop&&(n.player.options.loop="one",n.player.template.loop.innerHTML=u.default.loopOne):"one"===n.player.options.loop||"all"===n.player.options.loop?(n.player.options.loop="none",n.player.template.loop.innerHTML=u.default.loopNone):"none"===n.player.options.loop&&(n.player.options.loop="all",n.player.template.loop.innerHTML=u.default.loopAll)})}},{key:"initMenuButton",value:function(){var n=this;this.player.template.menu.addEventListener("click",function(){n.player.list.toggle()})}},{key:"initMiniSwitcher",value:function(){var n=this;this.player.template.miniSwitcher.addEventListener("click",function(){n.player.setMode("mini"===n.player.mode?"normal":"mini")})}},{key:"initSkipButton",value:function(){var n=this;this.player.template.skipBackButton.addEventListener("click",function(){n.player.skipBack()});this.player.template.skipForwardButton.addEventListener("click",function(){n.player.skipForward()});this.player.template.skipPlayButton.addEventListener("click",function(){n.player.toggle()})}},{key:"initLrcButton",value:function(){var n=this;this.player.template.lrcButton.addEventListener("click",function(){n.player.template.lrcButton.classList.contains("aplayer-icon-lrc-inactivity")?(n.player.template.lrcButton.classList.remove("aplayer-icon-lrc-inactivity"),n.player.lrc&&n.player.lrc.show()):(n.player.template.lrcButton.classList.add("aplayer-icon-lrc-inactivity"),n.player.lrc&&n.player.lrc.hide())})}}]),n}();t.default=e},function(n,t,i){var r=i(2);n.exports=function(n){"use strict";n=n||{};var t="",i=r.$each,u=n.lyrics,f=(n.$value,n.$index,r.$escape);return i(u,function(n,i){t+="\n    <p";0===i&&(t+=' class="aplayer-lrc-current"');t+=">";t+=f(n[1]);t+="<\/p>\n"}),t}},function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,f=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),e=i(10),u=(r=e)&&r.__esModule?r:{"default":r},o=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.container=t.container;this.async=t.async;this.player=t.player;this.parsed=[];this.index=0;this.current=[]}return f(n,[{key:"show",value:function(){this.player.events.trigger("lrcshow");this.player.template.lrcWrap.classList.remove("aplayer-lrc-hide")}},{key:"hide",value:function(){this.player.events.trigger("lrchide");this.player.template.lrcWrap.classList.add("aplayer-lrc-hide")}},{key:"toggle",value:function(){this.player.template.lrcWrap.classList.contains("aplayer-lrc-hide")?this.show():this.hide()}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.player.audio.currentTime,n;if(this.index>this.current.length-1||t<this.current[this.index][0]||!this.current[this.index+1]||t>=this.current[this.index+1][0])for(n=0;n<this.current.length;n++)t>=this.current[n][0]&&(!this.current[n+1]||t<this.current[n+1][0])&&(this.index=n,this.container.style.transform="translateY("+16*-this.index+"px)",this.container.style.webkitTransform="translateY("+16*-this.index+"px)",this.container.getElementsByClassName("aplayer-lrc-current")[0].classList.remove("aplayer-lrc-current"),this.container.getElementsByTagName("p")[n].classList.add("aplayer-lrc-current"))}},{key:"switch",value:function(n){var t=this,i,r;this.parsed[n]||(this.async?(this.parsed[n]=[["00:00","Loading"]],i=new XMLHttpRequest,i.onreadystatechange=function(){n===t.player.list.index&&4===i.readyState&&(i.status>=200&&i.status<300||304===i.status?t.parsed[n]=t.parse(i.responseText):(t.player.notice("LRC file request fails: status "+i.status),t.parsed[n]=[["00:00","Not available"]]),t.container.innerHTML=u.default({lyrics:t.parsed[n]}),t.update(0),t.current=t.parsed[n])},r=this.player.list.audios[n].lrc,i.open("get",r,!0),i.send(null)):this.parsed[n]=this.player.list.audios[n].lrc?this.parse(this.player.list.audios[n].lrc):[["00:00","Not available"]]);this.container.innerHTML=u.default({lyrics:this.parsed[n]});this.update(0);this.current=this.parsed[n]}},{key:"parse",value:function(n){var u,o,s,f,t,h;if(n){for(var e=(n=n.replace(/([^\]^\n])\[/g,function(n,t){return t+"\n["})).split("\n"),i=[],c=e.length,r=0;r<c;r++)if(u=e[r].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g),o=e[r].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").replace(/^\s+|\s+$/g,""),u)for(s=u.length,f=0;f<s;f++)t=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(u[f]),h=60*t[1]+parseInt(t[2])+(t[4]?parseInt(t[4])/(2===(t[4]+"").length?100:1e3):0),i.push([h,o]);return(i=i.filter(function(n){return n[1]})).sort(function(n,t){return n[0]-t[0]}),i}return[]}},{key:"remove",value:function(n){this.parsed.splice(n,1)}},{key:"clear",value:function(){this.parsed=[];this.container.innerHTML=""}}]),n}();t.default=o},function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,f=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),e=i(0),u=(r=e)&&r.__esModule?r:{"default":r},o=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.storageName=t.options.storageName;this.data=JSON.parse(u.default.storage.get(this.storageName));this.data||(this.data={});this.data.volume=this.data.volume||t.options.volume}return f(n,[{key:"get",value:function(n){return this.data[n]}},{key:"set",value:function(n,t){this.data[n]=t;u.default.storage.set(this.storageName,JSON.stringify(this.data))}}]),n}();t.default=o},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),r=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.elements={};this.elements.volume=t.volume;this.elements.played=t.played;this.elements.loaded=t.loaded}return i(n,[{key:"set",value:function(n,t,i){t=Math.max(t,0);t=Math.min(t,1);this.elements[n].style[i]=100*t+"%"}},{key:"get",value:function(n,t){return parseFloat(this.elements[n].style[t])/100}}]),n}();t.default=r},function(n,t,i){"use strict";(function(t){n.exports=!1;try{n.exports="[object process]"===Object.prototype.toString.call(t.process)}catch(n){}}).call(this,i(4))},function(n,t,i){"use strict";(function(t){var u=i(14),r=Object.create(u?t:window),f=/["&'<>]/;r.$escape=function(n){return function(n){var u=""+n,o=f.exec(u);if(!o)return n;for(var e="",t=void 0,i=void 0,r=void 0,t=o.index,i=0;t<u.length;t++){switch(u.charCodeAt(t)){case 34:r="&#34;";break;case 38:r="&#38;";break;case 39:r="&#39;";break;case 60:r="&#60;";break;case 62:r="&#62;";break;default:continue}i!==t&&(e+=u.substring(i,t));i=t+1;e+=r}return i!==t?e+u.substring(i,t):e}(function n(t){return"string"!=typeof t&&(t=void 0===t||null===t?"":"function"==typeof t?n(t.call(t)):JSON.stringify(t)),t}(n))};r.$each=function(n,t){var i,u,r;if(Array.isArray(n))for(i=0,u=n.length;i<u;i++)t(n[i],i);else for(r in n)t(n[r],r)};n.exports=r}).call(this,i(4))},function(n,t,i){var r=i(2);n.exports=function(n){"use strict";var t="",u=(n=n||{}).options,o=n.cover,e=r.$escape,f=n.icons,s=(arguments[1],function(n){return t+=n}),h=n.getObject;return n.theme,n.audio,n.index,u.fixed?(t+='\n<div class="aplayer-list',u.listFolded&&(t+=" aplayer-list-hide"),t+='"',u.listMaxHeight&&(t+=' style="max-height: ',t+=e(u.listMaxHeight),t+='"'),t+=">\n    <ol",u.listMaxHeight&&(t+=' style="max-height: ',t+=e(u.listMaxHeight),t+='"'),t+=">\n        ",s(i(1)(h({theme:u.theme,audio:u.audio,index:1}))),t+='\n    <\/ol>\n<\/div>\n<div class="aplayer-body">\n    <div class="aplayer-pic" style="',o&&(t+="background-image: url(&quot;",t+=e(o),t+="&quot;);"),t+="background-color: ",t+=e(u.theme),t+=';">\n        <div class="aplayer-button aplayer-play">',t+=f.play,t+='<\/div>\n    <\/div>\n    <div class="aplayer-info" style="display: none;">\n        <div class="aplayer-music">\n            <span class="aplayer-title">No audio<\/span>\n            <span class="aplayer-author"><\/span>\n        <\/div>\n        <div class="aplayer-controller">\n            <div class="aplayer-bar-wrap">\n                <div class="aplayer-bar">\n                    <div class="aplayer-loaded" style="width: 0"><\/div>\n                    <div class="aplayer-played" style="width: 0; background: ',t+=e(u.theme),t+=';">\n                        <span class="aplayer-thumb" style="background: ',t+=e(u.theme),t+=';">\n                            <span class="aplayer-loading-icon">',t+=f.loading,t+='<\/span>\n                        <\/span>\n                    <\/div>\n                <\/div>\n            <\/div>\n            <div class="aplayer-time">\n                <span class="aplayer-time-inner">\n                    <span class="aplayer-ptime">00:00<\/span> / <span class="aplayer-dtime">00:00<\/span>\n                <\/span>\n                <span class="aplayer-icon aplayer-icon-back">\n                    ',t+=f.skip,t+='\n                <\/span>\n                <span class="aplayer-icon aplayer-icon-play">\n                    ',t+=f.play,t+='\n                <\/span>\n                <span class="aplayer-icon aplayer-icon-forward">\n                    ',t+=f.skip,t+='\n                <\/span>\n                <div class="aplayer-volume-wrap">\n                    <button type="button" class="aplayer-icon aplayer-icon-volume-down">\n                        ',t+=f.volumeDown,t+='\n                    <\/button>\n                    <div class="aplayer-volume-bar-wrap">\n                        <div class="aplayer-volume-bar">\n                            <div class="aplayer-volume" style="height: 80%; background: ',t+=e(u.theme),t+=';"><\/div>\n                        <\/div>\n                    <\/div>\n                <\/div>\n                <button type="button" class="aplayer-icon aplayer-icon-order">\n                    ',"list"===u.order?t+=f.orderList:"random"===u.order&&(t+=f.orderRandom),t+='\n                <\/button>\n                <button type="button" class="aplayer-icon aplayer-icon-loop">\n                    ',"one"===u.loop?t+=f.loopOne:"all"===u.loop?t+=f.loopAll:"none"===u.loop&&(t+=f.loopNone),t+='\n                <\/button>\n                <button type="button" class="aplayer-icon aplayer-icon-menu">\n                    ',t+=f.menu,t+='\n                <\/button>\n                <button type="button" class="aplayer-icon aplayer-icon-lrc">\n                    ',t+=f.lrc,t+='\n                <\/button>\n            <\/div>\n        <\/div>\n    <\/div>\n    <div class="aplayer-notice"><\/div>\n    <div class="aplayer-miniswitcher"><button class="aplayer-icon">',t+=f.right,t+='<\/button><\/div>\n<\/div>\n<div class="aplayer-lrc">\n    <div class="aplayer-lrc-contents" style="transform: translateY(0); -webkit-transform: translateY(0);"><\/div>\n<\/div>\n'):(t+='\n<div class="aplayer-body">\n    <div class="aplayer-pic" style="',o&&(t+="background-image: url(&quot;",t+=e(o),t+="&quot;);"),t+="background-color: ",t+=e(u.theme),t+=';">\n        <div class="aplayer-button aplayer-play">',t+=f.play,t+='<\/div>\n    <\/div>\n    <div class="aplayer-info">\n        <div class="aplayer-music">\n            <span class="aplayer-title">No audio<\/span>\n            <span class="aplayer-author"><\/span>\n        <\/div>\n        <div class="aplayer-lrc">\n            <div class="aplayer-lrc-contents" style="transform: translateY(0); -webkit-transform: translateY(0);"><\/div>\n        <\/div>\n        <div class="aplayer-controller">\n            <div class="aplayer-bar-wrap">\n                <div class="aplayer-bar">\n                    <div class="aplayer-loaded" style="width: 0"><\/div>\n                    <div class="aplayer-played" style="width: 0; background: ',t+=e(u.theme),t+=';">\n                        <span class="aplayer-thumb" style="background: ',t+=e(u.theme),t+=';">\n                            <span class="aplayer-loading-icon">',t+=f.loading,t+='<\/span>\n                        <\/span>\n                    <\/div>\n                <\/div>\n            <\/div>\n            <div class="aplayer-time">\n                <span class="aplayer-time-inner">\n                    <span class="aplayer-ptime">00:00<\/span> / <span class="aplayer-dtime">00:00<\/span>\n                <\/span>\n                <span class="aplayer-icon aplayer-icon-back">\n                    ',t+=f.skip,t+='\n                <\/span>\n                <span class="aplayer-icon aplayer-icon-play">\n                    ',t+=f.play,t+='\n                <\/span>\n                <span class="aplayer-icon aplayer-icon-forward">\n                    ',t+=f.skip,t+='\n                <\/span>\n                <div class="aplayer-volume-wrap">\n                    <button type="button" class="aplayer-icon aplayer-icon-volume-down">\n                        ',t+=f.volumeDown,t+='\n                    <\/button>\n                    <div class="aplayer-volume-bar-wrap">\n                        <div class="aplayer-volume-bar">\n                            <div class="aplayer-volume" style="height: 80%; background: ',t+=e(u.theme),t+=';"><\/div>\n                        <\/div>\n                    <\/div>\n                <\/div>\n                <button type="button" class="aplayer-icon aplayer-icon-order">\n                    ',"list"===u.order?t+=f.orderList:"random"===u.order&&(t+=f.orderRandom),t+='\n                <\/button>\n                <button type="button" class="aplayer-icon aplayer-icon-loop">\n                    ',"one"===u.loop?t+=f.loopOne:"all"===u.loop?t+=f.loopAll:"none"===u.loop&&(t+=f.loopNone),t+='\n                <\/button>\n                <button type="button" class="aplayer-icon aplayer-icon-menu">\n                    ',t+=f.menu,t+='\n                <\/button>\n                <button type="button" class="aplayer-icon aplayer-icon-lrc">\n                    ',t+=f.lrc,t+='\n                <\/button>\n            <\/div>\n        <\/div>\n    <\/div>\n    <div class="aplayer-notice"><\/div>\n    <div class="aplayer-miniswitcher"><button class="aplayer-icon">',t+=f.right,t+='<\/button><\/div>\n<\/div>\n<div class="aplayer-list',u.listFolded&&(t+=" aplayer-list-hide"),t+='"',u.listMaxHeight&&(t+=' style="max-height: ',t+=e(u.listMaxHeight),t+='"'),t+=">\n    <ol",u.listMaxHeight&&(t+=' style="max-height: ',t+=e(u.listMaxHeight),t+='"'),t+=">\n        ",s(i(1)(h({theme:u.theme,audio:u.audio,index:1}))),t+="\n    <\/ol>\n<\/div>\n"),t}},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var u;Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),e=r(i(3)),o=r(i(16));u=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.container=t.container;this.options=t.options;this.randomOrder=t.randomOrder;this.init()}return f(n,[{key:"init",value:function(){var n="";this.options.audio.length&&(n="random"===this.options.order?this.options.audio[this.randomOrder[0]].cover:this.options.audio[0].cover);this.container.innerHTML=o.default({options:this.options,icons:e.default,cover:n,getObject:function(n){return n}});this.lrc=this.container.querySelector(".aplayer-lrc-contents");this.lrcWrap=this.container.querySelector(".aplayer-lrc");this.ptime=this.container.querySelector(".aplayer-ptime");this.info=this.container.querySelector(".aplayer-info");this.time=this.container.querySelector(".aplayer-time");this.barWrap=this.container.querySelector(".aplayer-bar-wrap");this.button=this.container.querySelector(".aplayer-button");this.body=this.container.querySelector(".aplayer-body");this.list=this.container.querySelector(".aplayer-list");this.listOl=this.container.querySelector(".aplayer-list ol");this.listCurs=this.container.querySelectorAll(".aplayer-list-cur");this.played=this.container.querySelector(".aplayer-played");this.loaded=this.container.querySelector(".aplayer-loaded");this.thumb=this.container.querySelector(".aplayer-thumb");this.volume=this.container.querySelector(".aplayer-volume");this.volumeBar=this.container.querySelector(".aplayer-volume-bar");this.volumeButton=this.container.querySelector(".aplayer-time button");this.volumeBarWrap=this.container.querySelector(".aplayer-volume-bar-wrap");this.loop=this.container.querySelector(".aplayer-icon-loop");this.order=this.container.querySelector(".aplayer-icon-order");this.menu=this.container.querySelector(".aplayer-icon-menu");this.pic=this.container.querySelector(".aplayer-pic");this.title=this.container.querySelector(".aplayer-title");this.author=this.container.querySelector(".aplayer-author");this.dtime=this.container.querySelector(".aplayer-dtime");this.notice=this.container.querySelector(".aplayer-notice");this.miniSwitcher=this.container.querySelector(".aplayer-miniswitcher");this.skipBackButton=this.container.querySelector(".aplayer-icon-back");this.skipForwardButton=this.container.querySelector(".aplayer-icon-forward");this.skipPlayButton=this.container.querySelector(".aplayer-icon-play");this.lrcButton=this.container.querySelector(".aplayer-icon-lrc")}}]),n}();t.default=u},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(n){var i={container:n.element||document.getElementsByClassName("aplayer")[0],mini:n.narrow||n.fixed||!1,fixed:!1,autoplay:!1,mutex:!0,lrcType:n.showlrc||n.lrc||0,preload:"auto",theme:"#b7daff",loop:"all",order:"list",volume:.7,listFolded:n.fixed,listMaxHeight:n.listmaxheight||"250px",audio:n.music||[],storageName:"aplayer-setting"};for(var t in i)i.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=i[t]);return"[object Array]"!==Object.prototype.toString.call(n.audio)&&(n.audio=[n.audio]),n.audio.map(function(n){return n.name=n.name||n.title||"Audio name",n.artist=n.artist||n.author||"Audio artist",n.cover=n.cover||n.pic,n.type=n.type||"normal",n}),n.audio.length<=1&&"one"===n.loop&&(n.loop="all"),n}},function(n){n.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"><\/path><\/svg>'},function(n){n.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M25.468 6.947c-0.326-0.172-0.724-0.151-1.030 0.057l-6.438 4.38v-3.553c0-0.371-0.205-0.71-0.532-0.884-0.326-0.172-0.724-0.151-1.030 0.057l-12 8.164c-0.274 0.186-0.438 0.496-0.438 0.827s0.164 0.641 0.438 0.827l12 8.168c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-3.556l6.438 4.382c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-16.333c0-0.371-0.205-0.71-0.532-0.884z"><\/path><\/svg>'},function(n){n.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"><\/path><\/svg>'},function(n){n.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M4 16c0-6.6 5.4-12 12-12s12 5.4 12 12c0 1.2-0.8 2-2 2s-2-0.8-2-2c0-4.4-3.6-8-8-8s-8 3.6-8 8 3.6 8 8 8c1.2 0 2 0.8 2 2s-0.8 2-2 2c-6.6 0-12-5.4-12-12z"><\/path><\/svg>'},function(n){n.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 29 32"><path d="M2.667 7.027l1.707-1.693 22.293 22.293-1.693 1.707-4-4h-11.64v4l-5.333-5.333 5.333-5.333v4h8.973l-8.973-8.973v0.973h-2.667v-3.64l-4-4zM22.667 17.333h2.667v5.573l-2.667-2.667v-2.907zM22.667 6.667v-4l5.333 5.333-5.333 5.333v-4h-10.907l-2.667-2.667h13.573z"><\/path><\/svg>'},function(n){n.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 33 32"><path d="M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333zM17.333 20v-8h-1.333l-2.667 1.333v1.333h2v5.333h2z"><\/path><\/svg>'},function(n){n.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 29 32"><path d="M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333z"><\/path><\/svg>'},function(n){n.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 22 32"><path d="M20.8 14.4q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2zM1.6 11.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2zM20.8 20.8q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2z"><\/path><\/svg>'},function(n){n.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M0.622 18.334h19.54v7.55l11.052-9.412-11.052-9.413v7.549h-19.54v3.725z"><\/path><\/svg>'},function(n){n.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22.667 4l7 6-7 6 7 6-7 6v-4h-3.653l-3.76-3.76 2.827-2.827 2.587 2.587h2v-8h-2l-12 12h-6v-4h4.347l12-12h3.653v-4zM2.667 8h6l3.76 3.76-2.827 2.827-2.587-2.587h-4.347v-4z"><\/path><\/svg>'},function(n){n.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"><\/path><\/svg>'},function(n){n.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"><\/path><\/svg>'},function(n){n.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056zM29.728 16q0 4.096-2.272 7.552t-6.048 5.056q-0.224 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.64 0.704-1.056 0.128-0.064 0.384-0.192t0.416-0.192q0.8-0.448 1.44-0.896 2.208-1.632 3.456-4.064t1.216-5.152-1.216-5.152-3.456-4.064q-0.64-0.448-1.44-0.896-0.128-0.096-0.416-0.192t-0.384-0.192q-0.704-0.416-0.704-1.056 0-0.448 0.32-0.8t0.832-0.352q0.224 0 0.448 0.096 3.776 1.632 6.048 5.056t2.272 7.552z"><\/path><\/svg>'},function(n){n.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"><\/path><\/svg>'},function(n){n.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 31"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"><\/path><\/svg>'},function(n){"use strict";function h(){throw new Error("setTimeout has not been defined");}function c(){throw new Error("clearTimeout has not been defined");}function l(n){if(i===setTimeout)return setTimeout(n,0);if((i===h||!i)&&setTimeout)return i=setTimeout,setTimeout(n,0);try{return i(n,0)}catch(t){try{return i.call(null,n,0)}catch(t){return i.call(this,n,0)}}}function y(){o&&e&&(o=!1,e.length?u=e.concat(u):s=-1,u.length&&a())}function a(){var t,n;if(!o){for(t=l(y),o=!0,n=u.length;n;){for(e=u,u=[];++s<n;)e&&e[s].run();s=-1;n=u.length}e=null;o=!1,function(n){if(r===clearTimeout)return clearTimeout(n);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(n);try{r(n)}catch(t){try{return r.call(null,n)}catch(t){return r.call(this,n)}}}(t)}}function v(n,t){this.fun=n;this.array=t}function f(){}var i,r,t=n.exports={};!function(){try{i="function"==typeof setTimeout?setTimeout:h}catch(n){i=h}try{r="function"==typeof clearTimeout?clearTimeout:c}catch(n){r=c}}();var e,u=[],o=!1,s=-1;t.nextTick=function(n){var i=new Array(arguments.length-1),t;if(arguments.length>1)for(t=1;t<arguments.length;t++)i[t-1]=arguments[t];u.push(new v(n,i));1!==u.length||o||l(a)};v.prototype.run=function(){this.fun.apply(null,this.array)};t.title="browser";t.browser=!0;t.env={};t.argv=[];t.version="";t.versions={};t.on=f;t.addListener=f;t.once=f;t.off=f;t.removeListener=f;t.removeAllListeners=f;t.emit=f;t.prependListener=f;t.prependOnceListener=f;t.listeners=function(){return[]};t.binding=function(){throw new Error("process.binding is not supported");};t.cwd=function(){return"/"};t.chdir=function(){throw new Error("process.chdir is not supported");};t.umask=function(){return 0}},function(n,t,i){"use strict";(function(n,t){!function(n,i){function y(n){delete l[n]}function f(n){if(a)setTimeout(f,0,n);else{var t=l[n];if(t){a=!0;try{!function(n){var r=n.callback,t=n.args;switch(t.length){case 0:r();break;case 1:r(t[0]);break;case 2:r(t[0],t[1]);break;case 3:r(t[0],t[1],t[2]);break;default:r.apply(i,t)}}(t)}finally{y(n);a=!1}}}}if(!n.setImmediate){var r,s,v,e,h,c=1,l={},a=!1,o=n.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(n);u=u&&u.setTimeout?u:n;"[object process]"==={}.toString.call(n.process)?r=function(n){t.nextTick(function(){f(n)})}:function(){if(n.postMessage&&!n.importScripts){var t=!0,i=n.onmessage;return n.onmessage=function(){t=!1},n.postMessage("","*"),n.onmessage=i,t}}()?(e="setImmediate$"+Math.random()+"$",h=function(t){t.source===n&&"string"==typeof t.data&&0===t.data.indexOf(e)&&f(+t.data.slice(e.length))},n.addEventListener?n.addEventListener("message",h,!1):n.attachEvent("onmessage",h),r=function(t){n.postMessage(e+t,"*")}):n.MessageChannel?((v=new MessageChannel).port1.onmessage=function(n){f(n.data)},r=function(n){v.port2.postMessage(n)}):o&&"onreadystatechange"in o.createElement("script")?(s=o.documentElement,r=function(n){var t=o.createElement("script");t.onreadystatechange=function(){f(n);t.onreadystatechange=null;s.removeChild(t);t=null};s.appendChild(t)}):r=function(n){setTimeout(f,0,n)};u.setImmediate=function(n){var i,t,u;for("function"!=typeof n&&(n=new Function(""+n)),i=new Array(arguments.length-1),t=0;t<i.length;t++)i[t]=arguments[t+1];return u={callback:n,args:i},l[c]=u,r(c),c++};u.clearImmediate=y}}("undefined"==typeof self?void 0===n?void 0:n:self)}).call(this,i(4),i(34))},function(n,t,i){"use strict";function r(n,t){this._id=n;this._clearFn=t}var u=Function.prototype.apply;t.setTimeout=function(){return new r(u.call(setTimeout,window,arguments),clearTimeout)};t.setInterval=function(){return new r(u.call(setInterval,window,arguments),clearInterval)};t.clearTimeout=t.clearInterval=function(n){n&&n.close()};r.prototype.unref=r.prototype.ref=function(){};r.prototype.close=function(){this._clearFn.call(window,this._id)};t.enroll=function(n,t){clearTimeout(n._idleTimeoutId);n._idleTimeout=t};t.unenroll=function(n){clearTimeout(n._idleTimeoutId);n._idleTimeout=-1};t._unrefActive=t.active=function(n){clearTimeout(n._idleTimeoutId);var t=n._idleTimeout;t>=0&&(n._idleTimeoutId=setTimeout(function(){n._onTimeout&&n._onTimeout()},t))};i(35);t.setImmediate=setImmediate;t.clearImmediate=clearImmediate},function(n,t,i){"use strict";(function(t){function c(){}function i(n){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];s(n,this)}function o(n,t){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,i._immediateFn(function(){var i=1===n._state?t.onFulfilled:t.onRejected,u;if(null!==i){try{u=i(n._value)}catch(n){return void r(t.promise,n)}f(t.promise,u)}else(1===n._state?f:r)(t.promise,n._value)})):n._deferreds.push(t)}function f(n,t){var f,o,h;try{if(t===n)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===(void 0===t?"undefined":u(t))||"function"==typeof t)){if(f=t.then,t instanceof i)return n._state=3,n._value=t,void e(n);if("function"==typeof f)return void s((o=f,h=t,function(){o.apply(h,arguments)}),n)}n._state=1;n._value=t;e(n)}catch(t){r(n,t)}}function r(n,t){n._state=2;n._value=t;e(n)}function e(n){2===n._state&&0===n._deferreds.length&&i._immediateFn(function(){n._handled||i._unhandledRejectionFn(n._value)});for(var t=0,r=n._deferreds.length;t<r;t++)o(n,n._deferreds[t]);n._deferreds=null}function s(n,t){var i=!1;try{n(function(n){i||(i=!0,f(t,n))},function(n){i||(i=!0,r(t,n))})}catch(n){if(i)return;i=!0;r(t,n)}}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},h=setTimeout;i.prototype.catch=function(n){return this.then(null,n)};i.prototype.then=function(n,t){var i=new this.constructor(c);return o(this,new function(n,t,i){this.onFulfilled="function"==typeof n?n:null;this.onRejected="function"==typeof t?t:null;this.promise=i}(n,t,i)),i};i.prototype.finally=function(n){var t=this.constructor;return this.then(function(i){return t.resolve(n()).then(function(){return i})},function(i){return t.resolve(n()).then(function(){return t.reject(i)})})};i.all=function(n){return new i(function(t,i){function o(n,f){try{if(f&&("object"===(void 0===f?"undefined":u(f))||"function"==typeof f)){var s=f.then;if("function"==typeof s)return void s.call(f,function(t){o(n,t)},i)}r[n]=f;0==--e&&t(r)}catch(n){i(n)}}var r,e,f;if(!n||void 0===n.length)throw new TypeError("Promise.all accepts an array");if(r=Array.prototype.slice.call(n),0===r.length)return t([]);for(e=r.length,f=0;f<r.length;f++)o(f,r[f])})};i.resolve=function(n){return n&&"object"===(void 0===n?"undefined":u(n))&&n.constructor===i?n:new i(function(t){t(n)})};i.reject=function(n){return new i(function(t,i){i(n)})};i.race=function(n){return new i(function(t,i){for(var r=0,u=n.length;r<u;r++)n[r].then(t,i)})};i._immediateFn="function"==typeof t&&function(n){t(n)}||function(n){h(n,0)};i._unhandledRejectionFn=function(n){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};n.exports=i}).call(this,i(36).setImmediate)},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var f,o;Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),h=r(i(37)),e=r(i(0)),u=r(i(3)),c=r(i(18)),l=r(i(17)),a=r(i(13)),v=r(i(12)),y=r(i(11)),p=r(i(9)),w=r(i(8)),b=r(i(7)),k=r(i(6));f=[];o=function(){function n(t){if(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n),this.options=c.default(t),this.container=this.options.container,this.paused=!0,this.playedPromise=h.default.resolve(),this.mode="normal",this.randomOrder=e.default.randomOrder(this.options.audio.length),this.container.classList.add("aplayer"),this.options.lrcType&&!this.options.fixed&&this.container.classList.add("aplayer-withlrc"),this.options.audio.length>1&&this.container.classList.add("aplayer-withlist"),e.default.isMobile&&this.container.classList.add("aplayer-mobile"),this.arrow=this.container.offsetWidth<=300,this.arrow&&this.container.classList.add("aplayer-arrow"),this.container=this.options.container,2===this.options.lrcType||!0===this.options.lrcType)for(var r=this.container.getElementsByClassName("aplayer-lrc-content"),i=0;i<r.length;i++)this.options.audio[i]&&(this.options.audio[i].lrc=r[i].innerHTML);this.template=new l.default({container:this.container,options:this.options,randomOrder:this.randomOrder});this.options.fixed&&(this.container.classList.add("aplayer-fixed"),this.template.body.style.width=this.template.body.offsetWidth-18+"px");this.options.mini&&(this.setMode("mini"),this.template.info.style.display="block");this.template.info.offsetWidth<200&&this.template.time.classList.add("aplayer-time-narrow");this.options.lrcType&&(this.lrc=new y.default({container:this.template.lrc,async:3===this.options.lrcType,player:this}));this.events=new b.default;this.storage=new v.default(this);this.bar=new a.default(this.template);this.controller=new p.default(this);this.timer=new w.default(this);this.list=new k.default(this);this.initAudio();this.bindEvents();"random"===this.options.order?this.list.switch(this.randomOrder[0]):this.list.switch(0);this.options.autoplay&&this.play();f.push(this)}return s(n,[{key:"initAudio",value:function(){var n=this,i,t;for(this.audio=document.createElement("audio"),this.audio.preload=this.options.preload,i=function(t){n.audio.addEventListener(n.events.audioEvents[t],function(i){n.events.trigger(n.events.audioEvents[t],i)})},t=0;t<this.events.audioEvents.length;t++)i(t);this.volume(this.storage.get("volume"),!0)}},{key:"bindEvents",value:function(){var n=this,t;this.on("play",function(){n.paused&&n.setUIPlaying()});this.on("pause",function(){n.paused||n.setUIPaused()});this.on("timeupdate",function(){if(!n.disableTimeupdate){n.bar.set("played",n.audio.currentTime/n.duration,"width");n.lrc&&n.lrc.update();var t=e.default.secondToTime(n.audio.currentTime);n.template.ptime.innerHTML!==t&&(n.template.ptime.innerHTML=t)}});this.on("durationchange",function(){1!==n.duration&&(n.template.dtime.innerHTML=e.default.secondToTime(n.duration))});this.on("progress",function(){var t=n.audio.buffered.length?n.audio.buffered.end(n.audio.buffered.length-1)/n.duration:0;n.bar.set("loaded",t,"width")});t=void 0;this.on("error",function(){n.list.audios.length>1?(n.notice("An audio error has occurred, player will skip forward in 2 seconds."),t=setTimeout(function(){n.skipForward();n.paused||n.play()},2e3)):1===n.list.audios.length&&n.notice("An audio error has occurred.")});this.events.on("listswitch",function(){t&&clearTimeout(t)});this.on("ended",function(){"none"===n.options.loop?"list"===n.options.order?n.list.index<n.list.audios.length-1?(n.list.switch((n.list.index+1)%n.list.audios.length),n.play()):(n.list.switch((n.list.index+1)%n.list.audios.length),n.pause()):"random"===n.options.order&&(n.randomOrder.indexOf(n.list.index)<n.randomOrder.length-1?(n.list.switch(n.nextIndex()),n.play()):(n.list.switch(n.nextIndex()),n.pause())):"one"===n.options.loop?(n.list.switch(n.list.index),n.play()):"all"===n.options.loop&&(n.skipForward(),n.play())})}},{key:"setAudio",value:function(n){this.hls&&(this.hls.destroy(),this.hls=null);var t=n.type;this.options.customAudioType&&this.options.customAudioType[t]?"[object Function]"===Object.prototype.toString.call(this.options.customAudioType[t])?this.options.customAudioType[t](this.audio,n,this):console.error("Illegal customType: "+t):(t&&"auto"!==t||(t=/m3u8(#|\?|$)/i.exec(n.url)?"hls":"normal"),"hls"===t?Hls.isSupported()?(this.hls=new Hls,this.hls.loadSource(n.url),this.hls.attachMedia(this.audio)):this.audio.canPlayType("application/x-mpegURL")||this.audio.canPlayType("application/vnd.apple.mpegURL")?this.audio.src=n.url:this.notice("Error: HLS is not supported."):"normal"===t&&(this.audio.src=n.url));this.seek(0);this.paused||this.audio.play()}},{key:"theme",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.list.audios[this.list.index].theme||this.options.theme,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.list.index;arguments.length>2&&void 0!==arguments[2]&&!arguments[2]||!this.list.audios[t]||(this.list.audios[t].theme=n);this.template.listCurs[t]&&(this.template.listCurs[t].style.backgroundColor=n);t===this.list.index&&(this.template.pic.style.backgroundColor=n,this.template.played.style.background=n,this.template.thumb.style.background=n,this.template.volume.style.background=n)}},{key:"seek",value:function(n){n=Math.max(n,0);n=Math.min(n,this.duration);this.audio.currentTime=n;this.bar.set("played",n/this.duration,"width");this.template.ptime.innerHTML=e.default.secondToTime(n)}},{key:"setUIPlaying",value:function(){var t=this,n;if(this.paused&&(this.paused=!1,this.template.button.classList.remove("aplayer-play"),this.template.button.classList.add("aplayer-pause"),this.template.button.innerHTML="",setTimeout(function(){t.template.button.innerHTML=u.default.pause},100),this.template.skipPlayButton.innerHTML=u.default.pause),this.timer.enable("loading"),this.options.mutex)for(n=0;n<f.length;n++)this!==f[n]&&f[n].pause()}},{key:"play",value:function(){var t=this,n;this.setUIPlaying();n=this.audio.play();n&&n.catch(function(n){console.warn(n);"NotAllowedError"===n.name&&t.setUIPaused()})}},{key:"setUIPaused",value:function(){var n=this;this.paused||(this.paused=!0,this.template.button.classList.remove("aplayer-pause"),this.template.button.classList.add("aplayer-play"),this.template.button.innerHTML="",setTimeout(function(){n.template.button.innerHTML=u.default.play},100),this.template.skipPlayButton.innerHTML=u.default.play);this.container.classList.remove("aplayer-loading");this.timer.disable("loading")}},{key:"pause",value:function(){this.setUIPaused();this.audio.pause()}},{key:"switchVolumeIcon",value:function(){this.template.volumeButton.innerHTML=this.volume()>=.95?u.default.volumeUp:this.volume()>0?u.default.volumeDown:u.default.volumeOff}},{key:"volume",value:function(n,t){return n=parseFloat(n),isNaN(n)||(n=Math.max(n,0),n=Math.min(n,1),this.bar.set("volume",n,"height"),t||this.storage.set("volume",n),this.audio.volume=n,this.audio.muted&&(this.audio.muted=!1),this.switchVolumeIcon()),this.audio.muted?0:this.audio.volume}},{key:"on",value:function(n,t){this.events.on(n,t)}},{key:"toggle",value:function(){this.template.button.classList.contains("aplayer-play")?this.play():this.template.button.classList.contains("aplayer-pause")&&this.pause()}},{key:"switchAudio",value:function(n){this.list.switch(n)}},{key:"addAudio",value:function(n){this.list.add(n)}},{key:"removeAudio",value:function(n){this.list.remove(n)}},{key:"destroy",value:function(){f.splice(f.indexOf(this),1);this.pause();this.container.innerHTML="";this.audio.src="";this.timer.destroy();this.events.trigger("destroy")}},{key:"setMode",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal";this.mode=n;"mini"===n?this.container.classList.add("aplayer-narrow"):"normal"===n&&this.container.classList.remove("aplayer-narrow")}},{key:"notice",value:function(n){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=n;this.template.notice.style.opacity=r;this.noticeTime&&clearTimeout(this.noticeTime);this.events.trigger("noticeshow",{text:n});i&&(this.noticeTime=setTimeout(function(){t.template.notice.style.opacity=0;t.events.trigger("noticehide")},i))}},{key:"prevIndex",value:function(){if(!(this.list.audios.length>1))return 0;if("list"===this.options.order)return this.list.index-1<0?this.list.audios.length-1:this.list.index-1;if("random"===this.options.order){var n=this.randomOrder.indexOf(this.list.index);return 0===n?this.randomOrder[this.randomOrder.length-1]:this.randomOrder[n-1]}}},{key:"nextIndex",value:function(){if(!(this.list.audios.length>1))return 0;if("list"===this.options.order)return(this.list.index+1)%this.list.audios.length;if("random"===this.options.order){var n=this.randomOrder.indexOf(this.list.index);return n===this.randomOrder.length-1?this.randomOrder[0]:this.randomOrder[n+1]}}},{key:"skipBack",value:function(){this.list.switch(this.prevIndex())}},{key:"skipForward",value:function(){this.list.switch(this.nextIndex())}},{key:"duration",get:function(){return isNaN(this.audio.duration)?0:this.audio.duration}}],[{key:"version",get:function(){return"1.10.1"}}]),n}();t.default=o},,function(){},function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i(40);var r,u=i(38),f=(r=u)&&r.__esModule?r:{"default":r};console.log("\n %c APlayer v1.10.1 af84efb %c http://aplayer.js.org \n","color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;");t.default=f.default}]).default})